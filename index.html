<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Empowering Conservative Voices at UC San Diego. Join TPUSA for dynamic events, leadership, and innovative activism." />
  <title>TPUSA at UC San Diego</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Lexend:wght@700&display=swap" rel="stylesheet" />
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha512-Fo3rlrZj/k7ujTTXRN9ewzBj1wU2H/SxHceZL5p6W3wX4u2dGkZK0pXc0RxypFBT9ZYCM6EjkP2gRnZc5cdFAw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- External Stylesheet -->
  <link rel="stylesheet" href="style.css" />
  <!-- GSAP and ScrollTrigger -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
  <!-- Particles.js -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
  <!-- Canvas Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body data-theme="light">
  <!-- Cookie Consent Banner -->
  <div id="cookie-banner" class="cookie-banner">
    <p>We use cookies to improve your experience.
      <button id="cookie-accept">Got it!</button>
    </p>
  </div>

  <!-- Progress Bar -->
  <div id="progress-bar"></div>
  <!-- Loading Spinner -->
  <div id="loading-spinner" role="status" aria-live="polite">Loading...</div>

  <!-- Navigation -->
  <header>
    <div class="container">
      <nav>
        <div class="logo" aria-label="TPUSA at UC San Diego Home">
          <i class="fas fa-robot"></i> TPUSA @ UC San Diego
        </div>
        <div class="menu-toggle" id="mobile-menu" aria-label="Toggle navigation menu">
          <i class="fas fa-bars"></i>
        </div>
        <ul id="nav-links">
          <li><a href="#about" aria-label="Navigate to About section">About</a></li>
          <li><a href="#mission" aria-label="Navigate to Mission section">Mission</a></li>
          <li><a href="#events" aria-label="Navigate to Events section">Events</a></li>
          <li><a href="#testimonials" aria-label="Navigate to Testimonials section">Testimonials</a></li>
          <li class="cta-nav"><a href="#join" aria-label="Join our community">Join</a></li>
          <li><a href="#contact" aria-label="Navigate to Contact section">Contact</a></li>
          <li>
            <span class="theme-toggle" id="theme-toggle" aria-label="Toggle Dark/Light Mode">
              <i class="fas fa-moon"></i>
            </span>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <!-- Hero Section with Video Overlay & Particles -->
    <section class="hero">
      <!-- Video Background (with fallback image in CSS) -->
      <video class="hero-video" autoplay muted loop>
        <source src="hero-bg-video.mp4" type="video/mp4" />
      </video>
      <!-- Particle Background -->
      <div id="particles-js"></div>
      <!-- Hero Content -->
      <div class="hero-content fade-in">
        <h1>Empowering Conservative Voices</h1>
        <p>Welcome to TPUSA at UC San Diego – where ideas ignite change and leadership thrives.</p>
        <button class="cta" onclick="heroCTA()" aria-label="Join Us">Join Us</button>
      </div>
    </section>

    <!-- About Section -->
    <section id="about">
      <div class="container">
        <h2 class="fade-in">About Us <i class="fas fa-info-circle"></i></h2>
        <div class="content fade-in" style="animation-delay: 0.3s;">
          <p>
            TPUSA at UC San Diego is dedicated to fostering a community of innovative and forward-thinking conservative students. We empower our members to lead, advocate, and spark change on campus.
          </p>
        </div>
      </div>
    </section>

    <!-- Mission Section -->
    <section id="mission">
      <div class="container">
        <h2 class="fade-in">Our Mission <i class="fas fa-bullseye"></i></h2>
        <div class="content fade-in" style="animation-delay: 0.3s;">
          <p>
            Our mission is to unite like-minded individuals passionate about free enterprise, individual liberty, and limited government through innovative events, discussions, and hands-on experiences.
          </p>
        </div>
      </div>
    </section>

    <!-- Events Section -->
    <section id="events">
      <div class="container">
        <h2 class="fade-in">Upcoming Events <i class="fas fa-calendar-alt"></i></h2>
        <div class="cards">
          <div class="card fade-in" style="animation-delay: 0.4s;" tabindex="0" aria-label="Event: Leadership Summit">
            <h3><i class="fas fa-chalkboard-teacher"></i> Leadership Summit</h3>
            <p>
              Learn from seasoned leaders and network with peers in an immersive experience.
            </p>
          </div>
          <div class="card fade-in" style="animation-delay: 0.5s;" tabindex="0" aria-label="Event: Campus Forum">
            <h3><i class="fas fa-comments"></i> Campus Forum</h3>
            <p>
              Engage in thoughtful discussions on current issues impacting our community.
            </p>
          </div>
          <div class="card fade-in" style="animation-delay: 0.6s;" tabindex="0" aria-label="Event: Workshop Series">
            <h3><i class="fas fa-tools"></i> Workshop Series</h3>
            <p>
              Participate in hands-on sessions to develop your leadership and organizational skills.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials">
      <div class="container">
        <h2 class="fade-in">Testimonials <i class="fas fa-quote-right"></i></h2>
        <div class="testimonial-slider fade-in">
          <div class="testimonial-slide active">
            <div class="testimonial-content">
              <p>"TPUSA at UC San Diego has transformed my view on leadership and activism."</p>
              <h4>- Alex M.</h4>
            </div>
          </div>
          <div class="testimonial-slide">
            <div class="testimonial-content">
              <p>"The events are engaging, informative, and truly inspiring."</p>
              <h4>- Jamie L.</h4>
            </div>
          </div>
          <div class="testimonial-slide">
            <div class="testimonial-content">
              <p>"Joining TPUSA has been one of the best decisions of my college experience."</p>
              <h4>- Casey R.</h4>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Impact/Statistics Section -->
    <section id="impact">
      <div class="container">
        <h2 class="fade-in">Our Impact <i class="fas fa-chart-line"></i></h2>
        <div class="stats-container fade-in" style="animation-delay: 0.3s;">
          <div class="stat-card">
            <i class="fas fa-users"></i>
            <div class="stat-number" data-target="150">0</div>
            <div class="stat-label">Members</div>
          </div>
          <div class="stat-card">
            <i class="fas fa-calendar-check"></i>
            <div class="stat-number" data-target="25">0</div>
            <div class="stat-label">Events Held</div>
          </div>
          <div class="stat-card">
            <i class="fas fa-university"></i>
            <div class="stat-number" data-target="10">0</div>
            <div class="stat-label">Campus Outreach</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Join Section -->
    <section id="join">
      <div class="container">
        <h2 class="fade-in">Become a Member <i class="fas fa-user-plus"></i></h2>
        <div class="content fade-in" style="animation-delay: 0.3s;">
          <p>
            Ready to make an impact? Join our community of driven individuals and help shape the future of UC San Diego.
          </p>
          <button class="cta" onclick="window.location.href='mailto:contact@tpusa-ucsd.org';" aria-label="Sign Up Now">Sign Up Now</button>
        </div>
      </div>
    </section>

    <!-- Newsletter Subscription Section -->
    <section id="newsletter">
      <div class="container">
        <h2 class="fade-in">Stay Updated <i class="fas fa-envelope"></i></h2>
        <div class="content fade-in" style="animation-delay: 0.3s;">
          <p>Subscribe to our newsletter for the latest updates and events.</p>
          <form id="newsletter-form" onsubmit="subscribeNewsletter(event)" novalidate>
            <input type="email" id="email" placeholder="Your Email" required aria-label="Email address" />
            <button type="submit" class="cta" aria-label="Subscribe">Subscribe</button>
          </form>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
      <div class="container">
        <h2 class="fade-in">Contact Us <i class="fas fa-headset"></i></h2>
        <div class="content fade-in" style="animation-delay: 0.3s;">
          <p>
            Have questions or want to learn more about TPUSA at UC San Diego? We’d love to hear from you.
          </p>
          <p>
            Email:
            <a href="mailto:contact@tpusa-ucsd.org" aria-label="Email us at contact@tpusa-ucsd.org">contact@tpusa-ucsd.org</a>
          </p>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="socials">
        <a href="#" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      </div>
      <p>&copy; 2025 TPUSA at UC San Diego. All rights reserved.</p>
    </div>
  </footer>

  <!-- Scroll To Top Button -->
  <button id="scrollToTop" onclick="window.scrollTo({ top: 0, behavior: 'smooth' });" aria-label="Scroll to top">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Chatbot Icon -->
  <div id="chatbot" aria-label="Chat with us">
    <i class="fas fa-comment-dots"></i>
  </div>

  <!-- Chat Modal -->
  <div id="chat-modal" class="chat-modal">
    <div class="chat-header">
      <h3>Chat with Us</h3>
      <span id="chat-close" class="chat-close">&times;</span>
    </div>
    <div class="chat-body">
      <p>Hi, how can we help you today?</p>
    </div>
    <div class="chat-footer">
      <input type="text" placeholder="Type your message..." aria-label="Chat message">
      <button>Send</button>
    </div>
  </div>

  <!-- JavaScript for Interactivity & Enhanced Animations -->
  <script>
    // Cookie Consent
    document.getElementById('cookie-accept').addEventListener('click', function(){
      document.getElementById('cookie-banner').style.display = 'none';
    });

    // Mobile Menu Toggle
    document.getElementById('mobile-menu').addEventListener('click', function () {
      document.getElementById('nav-links').classList.toggle('active');
    });

    // Theme Toggle
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.addEventListener('click', function () {
      const body = document.body;
      if (body.getAttribute('data-theme') === 'light') {
        body.setAttribute('data-theme', 'dark');
        themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      } else {
        body.setAttribute('data-theme', 'light');
        themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
      }
    });

    // Chatbot Modal Logic
    const chatbotIcon = document.getElementById('chatbot');
    const chatModal = document.getElementById('chat-modal');
    const chatClose = document.getElementById('chat-close');
    chatbotIcon.addEventListener('click', function(){
      chatModal.style.display = 'block';
    });
    chatClose.addEventListener('click', function(){
      chatModal.style.display = 'none';
    });

    // GSAP Hero Animations
    gsap.from(".hero-content h1", { duration: 1.5, y: -50, opacity: 0, ease: "bounce.out" });
    gsap.from(".hero-content p", { duration: 1.5, y: 50, opacity: 0, delay: 0.5 });

    // GSAP ScrollTrigger for Section Fade-ins
    gsap.utils.toArray("section").forEach(section => {
      gsap.from(section, {
        scrollTrigger: { trigger: section, start: "top 80%" },
        opacity: 0,
        y: 50,
        duration: 1,
        ease: "power1.out"
      });
    });

    // Testimonial Slider
    let currentSlide = 0;
    const slides = document.querySelectorAll('.testimonial-slide');
    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.remove('active');
        if (i === index) slide.classList.add('active');
      });
    }
    function nextSlide() {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    }
    setInterval(nextSlide, 5000);

    // Scroll To Top & Progress Bar
    const scrollBtn = document.getElementById('scrollToTop');
    window.addEventListener('scroll', function () {
      const scrollTop = window.scrollY;
      const docHeight = document.body.scrollHeight - window.innerHeight;
      const scrollPercent = (scrollTop / docHeight) * 100;
      document.getElementById('progress-bar').style.width = scrollPercent + '%';
      scrollBtn.style.display = scrollTop > 300 ? 'block' : 'none';
    });

    // Newsletter Subscription
    function validateEmail(email) {
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return regex.test(email);
    }
    function subscribeNewsletter(event) {
      event.preventDefault();
      const emailInput = document.getElementById('email');
      const email = emailInput.value;
      if (!validateEmail(email)) {
        alert('Please enter a valid email address.');
        return;
      }
      alert('Thank you for subscribing with ' + email);
      document.getElementById('newsletter-form').reset();
    }

    // Hero CTA with Confetti
    function heroCTA() {
      confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 } });
      setTimeout(() => {
        document.getElementById('join').scrollIntoView({ behavior: 'smooth' });
      }, 500);
    }

    // Fallback Intersection Observer for fade-in (if needed)
    const faders = document.querySelectorAll('.fade-in');
    const appearOptions = { threshold: 0.2, rootMargin: "0px 0px -50px 0px" };
    const appearOnScroll = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      });
    }, appearOptions);
    faders.forEach(fader => appearOnScroll.observe(fader));

    // Animate Numbers in Impact Section
    const statNumbers = document.querySelectorAll('.stat-number');
    const animateStats = () => {
      statNumbers.forEach(stat => {
        const target = +stat.getAttribute('data-target');
        const increment = target / 200;
        let current = 0;
        const updateNumber = () => {
          current += increment;
          if (current < target) {
            stat.textContent = Math.floor(current);
            requestAnimationFrame(updateNumber);
          } else {
            stat.textContent = target;
          }
        };
        updateNumber();
      });
    };
    const impactSection = document.getElementById('impact');
    const impactObserver = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateStats();
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });
    impactObserver.observe(impactSection);

    // Initialize Particles.js
    particlesJS("particles-js", {
      "particles": {
        "number": { "value": 120, "density": { "enable": true, "value_area": 800 } },
        "color": { "value": "#800000" },
        "shape": { "type": ["circle", "polygon"], "stroke": { "width": 0, "color": "#800000" }, "polygon": { "nb_sides": 6 } },
        "opacity": { "value": 0.5, "random": false },
        "size": { "value": 3, "random": true },
        "line_linked": { "enable": true, "distance": 150, "color": "#800000", "opacity": 0.4, "width": 1 },
        "move": { "enable": true, "speed": 4, "direction": "none", "random": false, "straight": false, "out_mode": "out" }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": {
          "onhover": { "enable": true, "mode": "grab" },
          "onclick": { "enable": true, "mode": "push" },
          "resize": true
        },
        "modes": {
          "grab": { "distance": 140, "line_linked": { "opacity": 1 } },
          "push": { "particles_nb": 4 }
        }
      },
      "retina_detect": true
    });
  </script>
</body>
</html>
